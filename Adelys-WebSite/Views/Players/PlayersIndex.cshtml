@using Adelys_WebSite.ViewModels;
@using Newtonsoft.Json.Linq;
@using System.Text;
@model PlayerViewModel
@{
    ViewData["Title"] = "Les joueurs";
    <link rel="stylesheet" href="~/css/playersPage.css" asp-append-version="true" />
}

@{
    Dictionary<LuckpermsPlayer, Tuple<LuckpermsUserPermission, string>> PlayerPermissionsDico = Model.PlayerPermissionsDico;
    Dictionary<LuckpermsPlayer, Tuple<LuckpermsUserPermission, string>> ParlementDico = Model.ParlementDico;
}

<div class="">
    <article id="playersArticle">
        <section id="parliamentPlayers">
            @foreach (var player in ParlementDico.Keys)
            {
                // Accéder aux valeurs associées à une clé
                Tuple<LuckpermsUserPermission, string> values = PlayerPermissionsDico[player];
                LuckpermsUserPermission UserPermission = values.Item1;
                string SkinUrl = values.Item2;
                <div class="card cardPlayer">
                    <div class="card-body">
                        <h5 class="card-title">@player.Username</h5>
                        <div class="cardPlayerImgContener">
                            <img src="@SkinUrl" class="cardPlayerImg" alt="Skin">
                        </div>
                        <h5 class="card-title">@UserPermission.Permission.Split(".")[1]</h5>
                        <button>Voir plus</button>
                    </div>
                </div>
            }
        </section>
        <section id="otherPlayers">
            @foreach (var player in PlayerPermissionsDico.Keys)
            {
                // Accéder aux valeurs associées à une clé
                Tuple<LuckpermsUserPermission, string> values = PlayerPermissionsDico[player];
                LuckpermsUserPermission UserPermission = values.Item1;
                string SkinUrl = values.Item2;
                <div class="card cardPlayer">
                    <div class="card-body">
                            <h5 class="card-title">@player.Username</h5>
                        <div class="cardPlayerImgContener">
                            <img src="@SkinUrl" class="cardPlayerImg" alt="Skin">
                        </div>
                        <h5 class="card-title">@UserPermission.Permission.Split(".")[1]</h5>
                        <button>Voir plus</button>
                    </div>
                </div>
            }
        </section>
    </article>
</div>
